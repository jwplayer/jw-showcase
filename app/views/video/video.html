<ion-view>
  <ion-content class="has-header">

    <div class="jw-video-container jw-video">
      <div class="jw-video-container-aspect">
        <jw-player settings="vm.playerSettings" on-playlist-item="vm.onPlaylistItem" on-time="vm.onTime"
            on-complete="vm.onComplete" on-first-frame="vm.onFirstFrame" on-play="vm.onPlay"></jw-player>
      </div>
    </div>

    <jw-header class="jw-header-static jw-subheader">
      <jw-header-left>
        <jw-header-back-button></jw-header-back-button>
      </jw-header-left>
      <jw-header-main>
        <jw-header-title class="left">
          <div class="jw-meta-align">
            {{ vm.item.title }} <span class="jw-meta-duration">{{ vm.duration }}</span>
          </div>
        </jw-header-title>
      </jw-header-main>
    </jw-header>

    <div class="jw-meta-container">
      <div class="jw-meta-align jw-meta-row">
        <div class="jw-meta-description">
          <div jw-collapsible-text="4.2em">
            {{ vm.item.description }}
          </div>
        </div>
        <div class="jw-meta-controls">
          <jw-button class="jw-button-watchlist" ng-click="vm.watchlistClickHandler()" ng-class="{'is-active': vm.inWatchList}">
            <span class="jw-button-label">{{ vm.inWatchList ? 'Unsave video' : 'Save video' }}</span> <i class="jwy-icon jwy-icon-banner jwy-icon-stack">
            <i class="jwy-icon jwy-icon-{{ vm.inWatchList ? 'min' : 'plus' }}"></i>
          </i>
          </jw-button>

          <jw-button class="jw-button-share" ng-click="vm.shareClickHandler($event)">
            <span class="jw-button-label">Share</span> <i class="jwy-icon jwy-icon-circle jwy-icon-stack">
            <i class="jwy-icon jwy-icon-share"></i>
          </i>
          </jw-button>
        </div>
      </div>
    </div>

    <div class="jw-row" ng-if="vm.feed.playlist.length > 0">
      <jw-card-slider feed="vm.feed" featured="false" spacing="12" heading="vm.feed.title"
          cols="{xs: 2, sm: 2, md: 3, lg: 4, xl: 5}" on-card-click="vm.cardClickHandler"></jw-card-slider>
    </div>

    <jw-footer></jw-footer>

  </ion-content>
</ion-view>